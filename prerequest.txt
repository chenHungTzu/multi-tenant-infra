aws dynamodb create-table --table-name tflock \
    --attribute-definitions AttributeName=LockID,AttributeType=S \
    --key-schema AttributeName=LockID,KeyType=HASH \
    --region ap-northeast-1 \
    --billing-mode PAY_PER_REQUEST

aws s3api create-bucket --bucket tflock-multiple-tenant \
    --region ap-northeast-1 \
    --create-bucket-configuration LocationConstraint=ap-northeast-1 



 aws dynamodb scan --table-name tenant-quota | jq '{input: (reduce .Items[] as $item ({}; .[$item.TenantId.S] = {
      QuotaOffeset: ($item.QuotaOffeset.N | tonumber),
      QuotaPeriod: $item.QuotaPeriod.S,
      RateLimit: ($item.RateLimit.N | tonumber),
      BurstLimit: ($item.BurstLimit.N | tonumber),
      QuotaLimit: ($item.QuotaLimit.N | tonumber)
 }))}'

  terraform apply --auto-approve  -var-file="variables.tfvars.json"